"use strict";(self.webpackChunkdubaimusic=self.webpackChunkdubaimusic||[]).push([[472],{5269:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var i=a(5043),l=a(6213),r=a(3216),t=a(344),n=a(7632),o=(a(7475),a(1043)),c=a.n(o),d=a(184),m=(a(3484),a(579));const h=i.lazy((()=>Promise.resolve().then(a.bind(a,1462)).then((e=>({default:e.BsArrowLeftSquareFill}))))),u=e=>{var s,a;let{onNavigate:o}=e;const{id:u}=(0,r.g)(),[g,p]=(0,i.useState)(null),[v,x]=(0,i.useState)(!0),[j,b]=(0,i.useState)({name:"",phone:"",email:""}),[N,y]=(0,i.useState)(""),[f,w]=(0,i.useState)([]),[k,U]=(0,i.useState)(0),[S,q]=(0,i.useState)(!1);(0,r.Zp)();function C(e){if(!e)return console.error("URL is null or undefined"),{embedUrl:null,thumbnailUrl:null};const s=(e=>{const s=e.match(/(?:youtube\.com\/(?:watch\?v=|embed\/|v\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return s?s[1]:null})(e);return s?{embedUrl:`https://www.youtube.com/embed/${s}?rel=0`,thumbnailUrl:`https://img.youtube.com/vi/${s}/hqdefault.jpg`}:(console.error("Invalid or unsupported YouTube URL:",e),{embedUrl:null,thumbnailUrl:null})}(0,i.useEffect)((()=>{(async()=>{U(30);try{const e=await l.A.get(`https://dubaimusic.com/api/api/artists/${u}`);p(e.data),x(!1);const s=e.data.galleryImages.map((async e=>{const s=`https://dubaimusic.com/api/${e}`;return new Promise((e=>{const a=new Image;a.src=s,a.onload=()=>e({src:s,width:a.width,height:a.height})}))})),a=await Promise.all(s);w(a)}catch(e){console.error("Error fetching artist:",e)}finally{U(100),x(!1)}})()}),[u]);const I=e=>{b({...j,[e.target.name]:e.target.value})};if(!g)return(0,m.jsx)("div",{});const P=["Wedding Packages","VIP"].includes(g.category),$=`https://api.whatsapp.com/send?text=Check out this: ${window.location.href}`;return(0,m.jsx)("div",{className:"artist-detail bg-custom",children:(0,m.jsxs)("div",{className:"container",children:[(0,m.jsxs)("span",{onClick:()=>{U(50),o&&o("/musicians")},className:"back-btn",children:[(0,m.jsx)(h,{size:30,className:"my-2"})," "]}),v?(0,m.jsx)("div",{className:"spinner",children:"Loading artist details..."}):(0,m.jsx)("div",{className:"artist-video",children:g.videoUrl?S?(0,m.jsx)("iframe",{width:"100%",height:"500",src:null===(a=C(g.videoUrl))||void 0===a?void 0:a.embedUrl,title:g.title,frameBorder:"0",allowFullScreen:!0}):(0,m.jsxs)("div",{className:"video-placeholder",style:{position:"relative",paddingBottom:"56.25%",height:0,backgroundImage:`url(${null===(s=C(g.videoUrl))||void 0===s?void 0:s.thumbnailUrl})`,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},onClick:()=>{q(!0)},children:["      ",(0,m.jsx)("button",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0,0,0,0.6)",color:"white",border:"none",padding:"10px 20px",borderRadius:"50%",fontSize:"24px",cursor:"pointer"},children:"\u25b6"})]}):null}),g.audioUrl&&(0,m.jsx)("div",{className:"artist-audio",children:(0,m.jsx)(c(),{url:g.audioUrl})}),(0,m.jsx)("h1",{children:v?"":null===g||void 0===g?void 0:g.title}),!P&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{children:["Category: ",(0,m.jsx)("span",{children:v?"":(null===g||void 0===g?void 0:g.category)||"N/A"})]}),(0,m.jsxs)("div",{children:["Music Style: ",(0,m.jsx)("span",{children:v?"":g.speciality||"N/A"})]})]}),(0,m.jsx)("div",{id:"description",className:"mt-3",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-md-"+(g.galleryImages.length||g.imageUrl?"6":"12"),children:[(0,m.jsx)("h4",{children:"About"}),(0,m.jsx)("div",{dangerouslySetInnerHTML:{__html:(_=g.description,_.replace(/<a /g,'<a target="_blank" rel="noopener noreferrer" ')||"<em>Description not available yet</em>")}}),(0,m.jsx)("div",{className:"whatsapp-share my-5",children:(0,m.jsxs)("a",{href:$,target:"_blank",rel:"noopener noreferrer",className:"btn btn-success",children:[(0,m.jsx)(d.EcP,{})," Share with Friends"]})})]}),(g.galleryImages.length||g.imageUrl)&&(0,m.jsxs)("div",{className:"col-md-"+(g.imageUrl?"6":"12"),children:[g.imageUrl&&(0,m.jsx)("img",{src:`https://dubaimusic.com/api/${g.imageUrl}`,alt:g.title,className:"artist-image mb-2",style:{width:"100%",height:"auto"}}),g.galleryImages.length>0&&(0,m.jsxs)("div",{className:"gallery-container",children:[(0,m.jsx)("h4",{children:"Gallery"}),(0,m.jsx)(n.Z2,{children:(0,m.jsx)("div",{className:"grid-container",children:f.map(((e,s)=>(0,m.jsx)(n.q7,{original:e.src,thumbnail:e.src,width:e.width,height:e.height,children:a=>{let{ref:i,open:l}=a;return(0,m.jsx)("img",{ref:i,onClick:l,src:e.src,alt:`Galleryimage ${s+1}`,className:"grid-item",style:{cursor:"pointer"}})}},s)))})})]})]})]})}),(0,m.jsxs)("div",{className:"artistForm mt-3",children:[(0,m.jsx)("h1",{className:"mx-2 my-2",children:"Book Now"}),(0,m.jsxs)("form",{onSubmit:e=>{e.preventDefault();const s={name:j.name,phone:j.phone,email:j.email,artistName:null===g||void 0===g?void 0:g.title};t.Ay.send("service_3hkljmf","template_tg0y1rn",s,"q1l_DC7jwQvu80xJ5").then((e=>{y("Booking request sent successfully!"),b({name:"",phone:"",email:""})})).catch((e=>{y("Failed to send booking request. Please try again."),console.error("Error sending booking request:",e)}))},children:[(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsx)("div",{className:"form-group",children:(0,m.jsx)("input",{type:"text",id:"name",name:"name",className:"form-control",value:j.name,onChange:I,required:!0,placeholder:"Your Name"})})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsx)("div",{className:"form-group",children:(0,m.jsx)("input",{type:"tel",id:"phone",name:"phone",className:"form-control",value:j.phone,onChange:I,required:!0,placeholder:"Phone Number"})})})]}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsx)("div",{className:"form-group",children:(0,m.jsx)("input",{type:"email",id:"email",name:"email",className:"form-control",value:j.email,onChange:I,required:!0,placeholder:"Your Email"})})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsx)("button",{type:"submit",className:"btn enquirybtn",children:"Book Now"})})]})]}),N&&(0,m.jsx)("p",{className:"form-message",children:N})]})]})});var _}}}]);
//# sourceMappingURL=472.27e7eb01.chunk.js.map
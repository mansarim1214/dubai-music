"use strict";(self.webpackChunkdubaimusic=self.webpackChunkdubaimusic||[]).push([[209],{209:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var t=a(5043),r=a(6213),n=a(8270),c=a(8227),l=a(1462),o=(a(3484),a(579));const i=()=>{const e=[{src:"/banner1.webp",alt:"Banner for Musicians",text:"Explore Dubai\u2019s Top Musicians",button:"Explore Now",url:"/musicians"},{src:"/dubai-opera.webp",alt:"Banner for dubai opera",text:"Discover World-Class Performances at Dubai Opera",button:"View Shows",url:"https://www.dubaiopera.com/en-US/products-list"},{src:"/banner3.webp",alt:"Banner for Music Stores",text:"Shop at Top Music Stores",button:"Checkout Stores",url:"/music-store"},{src:"/guitar-store.webp",alt:"Art of Guitar",text:"Art of Guitar",button:"View Store",url:"/music-store/67afa3372272627033bafded"},{src:"/banner2.webp",alt:"Banner for Venues",text:"Discover Live Music Venues",button:"Explore Venues",url:"#venues",class:"center"}],[s,a]=(0,t.useState)(0),r=(0,t.useRef)(),c=e=>{const s=`-${100*e}%`;n.os.to(r.current,{x:s,duration:3,ease:"power2.inOut"})};(0,t.useEffect)((()=>{const e=setInterval((()=>{l()}),4e3);return()=>clearInterval(e)}),[s]);const l=()=>{const t=(s+1)%e.length;a(t),c(t)};return(0,o.jsxs)("div",{className:"carousel-container",children:[(0,o.jsx)("button",{className:"carousel-arrow prev",onClick:()=>{const t=(s-1+e.length)%e.length;a(t),c(t)},children:"\u276e"}),(0,o.jsx)("div",{className:"carousel-track",ref:r,children:e.map(((e,s)=>(0,o.jsxs)("div",{className:"carousel-slide",children:[(0,o.jsx)("img",{src:e.src,alt:e.alt,className:e.class}),(0,o.jsx)("h1",{className:"carousel-text",children:e.text}),(0,o.jsx)("a",{href:e.url,className:"carousel-btn enquirybtn",children:e.button})]},s)))}),(0,o.jsx)("button",{className:"carousel-arrow next",onClick:l,children:"\u276f"}),(0,o.jsx)("div",{className:"carousel-dots",children:e.map(((e,t)=>(0,o.jsx)("span",{onClick:()=>(e=>{a(e),c(e)})(t),className:"carousel-dot "+(s===t?"active":"")},t)))}),(0,o.jsx)("style",{jsx:!0,children:"\n        .carousel-arrow {\n          position: absolute;\n          top: 50%;\n          transform: translateY(-50%);\n          background: rgba(0, 0, 0, 0.5);\n          color: white;\n          border: none;\n          cursor: pointer;\n          font-size: 24px;\n          padding: 10px;\n          z-index: 10;\n        }\n\n        @media only screen and (max-width: 500px) {\n.carousel-arrow{\n    font-size: 14px;\n    padding: 6px;\n}\n\n      }\n        .prev {\n          left: 10px;\n        }\n\n        .next {\n          right: 10px;\n        }\n      "})]})};n.os.registerPlugin(c.s);const u=e=>{let{onNavigate:s}=e;const[a,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0),[m,p]=(0,t.useState)(null),x=(0,t.useRef)([]);(0,t.useEffect)((()=>{(async()=>{try{const e=(await r.A.get("https://dubaimusic.com/api/api/venues")).data.filter((e=>"published"===e.status));u(e)}catch(m){p("Failed to fetch venues. Please try again later."),console.error("Error fetching venues:",m)}finally{h(!1)}})()}),[]);const f=()=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][(new Date).getDay()],b=(()=>{const e=f(),s=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],a=s.indexOf(e);return["Hot Picks",...[...s.slice(a),...s.slice(0,a)]]})(),w=(()=>{const e={};a.forEach((s=>{e[s.category]||(e[s.category]=[]),e[s.category].push(s)})),Object.keys(e).forEach((s=>{e[s].sort(((e,s)=>Number(e.orderNumber||0)-Number(s.orderNumber||0)))}));const s={};return b.forEach((a=>{e[a]&&(s[a]=e[a])})),s})(),v=(e,s)=>{const a=x.current[s];if(a){const s=a.querySelector(".venueImage"),t=3*(s?s.clientWidth:0);let r=a.scrollLeft+t*e;r=Math.max(0,Math.min(r,a.scrollWidth-a.clientWidth)),n.os.to(a,{scrollLeft:r,duration:.5,ease:"power2.out"})}};(0,t.useEffect)((()=>{window.innerWidth<=500&&x.current.forEach((e=>{e&&(n.os.killTweensOf(e),c.s.create(e,{type:"x",bounds:{minX:-e.scrollWidth+e.clientWidth,maxX:0},inertia:!0,throwProps:!0,edgeResistance:.65,onThrowUpdate:()=>{n.os.to(e,{x:e._gsap.x,ease:"power2.out"})},snap:{x:e=>200*Math.round(e/16.67)}}))}))}),[w]);return(0,o.jsx)("div",{className:"bg-custom",children:(0,o.jsxs)("div",{className:"container-fluid p-0",children:[(0,o.jsx)(i,{}),Object.keys(w).map(((e,a)=>{const t=x.current[a],r=t&&t.scrollWidth>t.clientWidth,n=e===f();return(0,o.jsxs)("div",{className:"category-wrapper",children:[(0,o.jsxs)("div",{className:"div mb-2",children:[(0,o.jsxs)("h2",{className:"my-2 fav-title",children:[e,n&&(0,o.jsx)("span",{className:"today-badge",children:"Today"})]}),(0,o.jsx)("hr",{})]}),(0,o.jsx)("div",{className:"row",children:(0,o.jsxs)("div",{className:"col p-relative",children:[r&&(0,o.jsx)("button",{className:"arrow left react-multiple-carousel__arrow react-multiple-carousel__arrow--left",onClick:()=>v(-1,a),children:(0,o.jsx)(l.BsChevronCompactLeft,{})}),(0,o.jsx)("div",{className:"venueCarousel",ref:e=>x.current[a]=e,style:{display:"flex",overflow:"hidden",width:"100%"},children:w[e].map((e=>(0,o.jsx)("div",{className:"venueImage",style:{flex:"0 0 16.67%",padding:"0 5px"},children:(0,o.jsx)("div",{onClick:()=>(e=>{s&&s(`/venuedetail/${e._id}`)})(e),children:(0,o.jsxs)("div",{className:"artistImage",children:[e.featuredImage?(0,o.jsx)("img",{src:`https://dubaimusic.com/api/${e.featuredImage}`,alt:e.title,width:"100%",loading:"lazy"}):(0,o.jsx)("div",{className:"image-placeholder"}),e.isNew&&(0,o.jsx)("span",{className:"newLabel",children:"Recently Added"}),(0,o.jsxs)("div",{className:"artContent",children:[(0,o.jsx)("h4",{className:"artTitle",children:e.title}),e.location&&(0,o.jsxs)("span",{className:"location",children:[(0,o.jsx)(l.BsFillGeoAltFill,{})," ",e.location]})]})]})})},e._id)))}),r&&(0,o.jsx)("button",{className:"arrow right react-multiple-carousel__arrow react-multiple-carousel__arrow--right",onClick:()=>v(1,a),children:(0,o.jsx)(l.BsChevronCompactRight,{})})]})})]},e)}))]})})}}}]);
//# sourceMappingURL=209.88ab8207.chunk.js.map
{"version":3,"file":"static/js/424.ee8803f2.chunk.js","mappings":"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","sources":["components/View/VenueDetail.js"],"sourcesContent":["import React, { useEffect, useState, Suspense } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { Gallery, Item } from \"react-photoswipe-gallery\";\r\nimport \"photoswipe/dist/photoswipe.css\";\r\nimport { FaWhatsapp } from \"react-icons/fa\";\r\nimport \"./frontend.css\"; // Import the CSS file for styling\r\n\r\nconst BsArrowLeftSquareFill = React.lazy(() =>\r\n  import(\"react-icons/bs\").then((module) => ({ default: module.BsArrowLeftSquareFill }))\r\n);\r\nconst BsTelephone = React.lazy(() =>\r\n  import(\"react-icons/bs\").then((module) => ({ default: module.BsTelephone }))\r\n);\r\n\r\nconst VenueDetail = ({ onNavigate }) => {\r\n  const { id } = useParams();\r\n  const [venue, setVenue] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [galleryImages, setGalleryImages] = useState([]);\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleBack = () => {\r\n    setProgress(50);\r\n\r\n    if (onNavigate) {\r\n      onNavigate(`/venues`);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchVenue = async () => {\r\n      setProgress(30);\r\n      try {\r\n        const response = await axios.get(\r\n          `${process.env.REACT_APP_API_URL}/api/venues/${id}`\r\n        );\r\n        setVenue(response.data);\r\n        setLoading(false);\r\n\r\n        // Load images to get their dimensions\r\n        const imagePromises = response.data.gallery.map(async (img) => {\r\n          const src = `${process.env.REACT_APP_API_URL}/${img}`;\r\n          return new Promise((resolve) => {\r\n            const image = new Image();\r\n            image.src = src;\r\n            image.onload = () =>\r\n              resolve({ src, width: image.width, height: image.height });\r\n          });\r\n        });\r\n\r\n        const loadedImages = await Promise.all(imagePromises);\r\n        setGalleryImages(loadedImages);\r\n      } catch (error) {\r\n        console.error(\"Error fetching venue:\", error);\r\n        setError(\"Failed to fetch venue. Please try again later.\");\r\n      } finally {\r\n        setProgress(100);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchVenue();\r\n  }, [id]);\r\n\r\n  const whatsappShareUrl = `https://api.whatsapp.com/send?text=Check out this: ${window.location.href}`;\r\n\r\n  const addTargetToLinks = (html) => {\r\n    return html.replace(\r\n      /<a /g,\r\n      '<a target=\"_blank\" rel=\"noopener noreferrer\" '\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"venue-detail bg-custom\">\r\n      <div className=\"container\">\r\n        {/* Static Content */}\r\n        <Suspense fallback={<div>Loading Back Button...</div>}>\r\n          <span onClick={handleBack} className=\"back-btn\">\r\n            <BsArrowLeftSquareFill size={30} className=\"my-2\" />\r\n          </span>\r\n        </Suspense>\r\n\r\n        <h1>{loading ? \"\" : venue?.title}</h1>\r\n\r\n        <div>\r\n          Location:{\" \"}\r\n          <span>{loading ? \"\" : venue?.location || \"N/A\"}</span>\r\n        </div>\r\n\r\n        {/* Dynamic Content */}\r\n        {!loading && !error && venue && (\r\n          <>\r\n            <div id=\"description\" className=\"mt-3\">\r\n              <div className=\"row\">\r\n                <div\r\n                  className={`col-md-${\r\n                    galleryImages.length || venue.featuredImage ? \"6\" : \"12\"\r\n                  }`}\r\n                >\r\n                  <h4>About</h4>\r\n                  <div\r\n                    dangerouslySetInnerHTML={{\r\n                      __html:\r\n                        addTargetToLinks(venue.description) ||\r\n                        \"<em>Description not available yet</em>\",\r\n                    }}\r\n                  />\r\n\r\n                  <div className=\"whatsapp-share my-5\">\r\n                    <a\r\n                      href={whatsappShareUrl}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"btn btn-success\"\r\n                    >\r\n                      <FaWhatsapp /> Share with Friends\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n\r\n                {(galleryImages.length || venue.featuredImage) && (\r\n                  <div className={`col-md-${venue.featuredImage ? \"6\" : \"12\"}`}>\r\n                    {venue.featuredImage && (\r\n                      <img\r\n                        src={`${process.env.REACT_APP_API_URL}/${venue.featuredImage}`}\r\n                        alt={venue.title}\r\n                        className=\"venue-image mb-2\"\r\n                        style={{ width: \"100%\", height: \"auto\" }}\r\n                        loading=\"lazy\"\r\n                      />\r\n                    )}\r\n                    {galleryImages.length > 0 && (\r\n                      <div className=\"gallery-container\">\r\n                        <h4>Gallery</h4>\r\n                        <Gallery>\r\n                          <div className=\"grid-container\">\r\n                            {galleryImages.map((img, index) => (\r\n                              <Item\r\n                                key={index}\r\n                                original={img.src}\r\n                                thumbnail={img.src}\r\n                                width={img.width}\r\n                                height={img.height}\r\n                              >\r\n                                {({ ref, open }) => (\r\n                                  <img\r\n                                    ref={ref}\r\n                                    onClick={open}\r\n                                    src={img.src}\r\n                                    alt={`galleryimg ${index + 1}`}\r\n                                    className=\"grid-item\"\r\n                                    style={{ cursor: \"pointer\" }}\r\n                                    loading=\"lazy\"\r\n                                  />\r\n                                )}\r\n                              </Item>\r\n                            ))}\r\n                          </div>\r\n                        </Gallery>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {venue.contact && (\r\n              <div className=\"venueForm mt-3\">\r\n                <div className=\"my-2\">\r\n                  <h1>Contact Venue</h1>\r\n                  <a\r\n                    href={`tel:${venue.contact}`}\r\n                    target=\"_blank\"\r\n                    rel=\"noreferrer\"\r\n                    className=\"btn btn-call\"\r\n                  >\r\n                    <BsTelephone /> Call Now\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n\r\n        {error && <div>Error: {error}</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VenueDetail;\r\n"],"names":["BsArrowLeftSquareFill","React","then","module","default","BsTelephone","_ref","onNavigate","id","useParams","venue","setVenue","useState","loading","setLoading","error","setError","galleryImages","setGalleryImages","progress","setProgress","useNavigate","useEffect","async","response","axios","get","data","imagePromises","gallery","map","src","img","Promise","resolve","image","Image","onload","width","height","loadedImages","all","console","fetchVenue","whatsappShareUrl","window","location","href","_jsx","className","children","_jsxs","Suspense","fallback","onClick","handleBack","size","title","_Fragment","length","featuredImage","dangerouslySetInnerHTML","__html","html","description","replace","target","rel","FaWhatsapp","alt","style","Gallery","index","Item","original","thumbnail","_ref2","ref","open","cursor","contact"],"sourceRoot":""}
"use strict";(self.webpackChunkdubaimusic=self.webpackChunkdubaimusic||[]).push([[544],{2544:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var a=s(5043),r=s(6213),i=s(8270),l=s(8227),c=s(1462),o=s(579);i.os.registerPlugin(l.s);const n=e=>{let{onNavigate:t}=e;const[s,n]=(0,a.useState)([]),[d,u]=(0,a.useState)(!0),[h,m]=(0,a.useState)(null),p=(0,a.useRef)([]);(0,a.useEffect)((()=>{(async()=>{try{const e=(await r.A.get("https://dubaimusic.com/api/api/weddingvip")).data.filter((e=>"published"===e.isPublished));n(e)}catch(h){console.error("Error fetching wedding VIP items:",h),m("Failed to fetch Wedding VIP items. Please try again later.")}finally{u(!1)}})()}),[]);const f=(()=>{const e={};s.forEach((t=>{e[t.category]||(e[t.category]=[]),e[t.category].push(t)}));const t={};return Object.keys(e).forEach((s=>{t[s]=e[s].map((e=>({item:e,sort:Math.random()}))).sort(((e,t)=>e.sort-t.sort)).map((e=>{let{item:t}=e;return t}))})),t})(),g=(e,t)=>{const s=p.current[t];if(s){const t=s.querySelector(".venueImage");if(!t)return void console.error("No items found in carousel");const a=3*t.clientWidth;let r=s.scrollLeft+a*e;r=Math.max(0,Math.min(r,s.scrollWidth-s.clientWidth)),i.os.to(s,{scrollLeft:r,duration:.5,ease:"power2.out"})}};(0,a.useEffect)((()=>{window.innerWidth<=500&&p.current.forEach((e=>{e&&(i.os.killTweensOf(e),l.s.create(e,{type:"x",bounds:{minX:-e.scrollWidth+e.clientWidth,maxX:0},inertia:!0,throwProps:!0,edgeResistance:.65,onThrowUpdate:()=>{i.os.to(e,{x:e._gsap.x,ease:"power2.out"})},snap:{x:e=>200*Math.round(e/16.67)}}))}))}),[f]);return(0,o.jsx)("div",{className:"bg-custom",children:(0,o.jsx)("div",{className:"container-fluid p-0",children:Object.keys(f).map(((e,s)=>{const a=p.current[s],r=a&&a.scrollWidth>a.clientWidth;return(0,o.jsxs)("div",{className:"category-wrapper",children:[(0,o.jsxs)("div",{className:"div mb-2",children:[(0,o.jsx)("h2",{className:"my-2 fav-title",children:e}),(0,o.jsx)("hr",{})]}),(0,o.jsx)("div",{className:"row",children:(0,o.jsxs)("div",{className:"col p-relative",children:[r&&(0,o.jsx)("button",{className:"arrow left react-multiple-carousel__arrow react-multiple-carousel__arrow--left",onClick:()=>g(-1,s),children:(0,o.jsx)(c.BsChevronCompactLeft,{})}),(0,o.jsx)("div",{className:"venueCarousel",ref:e=>p.current[s]=e,style:{display:"flex",overflow:"hidden",width:"100%"},children:f[e].map((e=>(0,o.jsx)("div",{className:"venueImage",style:{flex:"0 0 16.67%",padding:"0 5px"},onClick:()=>(e=>{t&&t(`/wedding-vip-packages/${e._id}`)})(e),children:(0,o.jsxs)("div",{className:"artistImage",children:[e.imageUrl&&(0,o.jsx)("img",{src:`https://dubaimusic.com/api/${e.imageUrl}`,alt:e.title,width:"100%",loading:"lazy"}),(0,o.jsx)("div",{className:"artContent",children:(0,o.jsx)("h4",{className:"artTitle",children:e.title})})]})},e._id)))}),r&&(0,o.jsx)("button",{className:"arrow right react-multiple-carousel__arrow react-multiple-carousel__arrow--right",onClick:()=>g(1,s),children:(0,o.jsx)(c.BsChevronCompactRight,{})})]})})]},e)}))})})}}}]);
//# sourceMappingURL=544.69bbd668.chunk.js.map